<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Leaderboard</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>

<ol id="leaderboard"></ol>

<script>
  // Initial data
  let leaderboardData = [
    { id: 1, name: 'Player 1', score: 100 },
    { id: 2, name: 'Player 2', score: 90 },
    { id: 3, name: 'Player 3', score: 80 },
  ];

  // Function to update the leaderboard
  function updateLeaderboard() {
    // Update data (e.g., add or remove players)
    // For simplicity, just changing the score of the first player here
    leaderboardData[0].score = Math.floor(Math.random() * 100) + 1;

    // Select the leaderboard
    const leaderboard = d3.select("#leaderboard");

    // Data join
    const players = leaderboard.selectAll("li")
      .data(leaderboardData, d => d.id);

    // Update existing players (e.g., update text content)
    players.text(d => `${d.name}: ${d.score}`);

    // Handle entering players
    players.enter().append("li")
      .text(d => `${d.name}: ${d.score}`);

    // Handle exiting players
    players.exit().remove();
  }

  // Initial rendering
  updateLeaderboard();

  // Simulate data update every 2 seconds
  setInterval(updateLeaderboard, 2000);
</script>

</body>
</html>
