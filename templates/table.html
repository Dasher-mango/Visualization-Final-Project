<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <style>
        .scrollable-div {
            height: 200px;
            overflow: auto;
            border: 1px solid #ccc;
            /* 添加边框以更清晰地看到 div 的边界 */
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
    </style>
</head>

<body>

    <div class="scrollable-div" id="table-container"></div>

    <script>
        // 你的字典型数据
        var data = [
            { name: 'John Doe', age: 30, city: 'New York' },
            { name: 'Jane Smith', age: 25, city: 'Los Angeles' },
            // 添加更多的数据项
        ];

        // 使用D3创建SVG表格
        var svg = d3.select("#table-container")
            .append("svg")
            .attr("width", "100%")
            .attr("height", "100%");

        // 创建表头
        var thead = svg.append("g")
            .attr("class", "thead")
            .selectAll("th")
            .data(d3.keys(data[0]))
            .enter()
            .append("text")
            .text(function (d) { return d; })
            .attr("x", function (d, i) { return i * 100; })
            .attr("y", 20);

        // 创建表格内容
        var tbody = svg.append("g")
            .attr("class", "tbody")
            .selectAll("g")
            .data(data)
            .enter()
            .append("g")
            .attr("transform", function (d, i) { return "translate(0," + (i + 1) * 20 + ")"; })
            .selectAll("text")
            .data(function (d) { return d3.values(d); })
            .enter()
            .append("text")
            .text(function (d) { return d; })
            .attr("x", function (d, i) { return i * 100; })
            .attr("y", 20);
    </script>

</body>

</html>